<body class="hold-transition sidebar-mini sidebar-collapse layout-fixed">

  <div class="wrapper">

    <nav class="main-header navbar navbar-expand navbar-gray navbar-dark">

      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        <li class="nav-item d-sm-inline-block">
          <a href="/home" class="nav-link">
            <i class="nav-icon fa fa-home"></i>
            &nbsp;เยี่ยมชมเว็บไซต์
          </a>
        </li>
      </ul>

    </nav>


    <aside class="main-sidebar sidebar-dark-primary elevation-4">

      <a class="brand-link">
        {% if current_user.role == 'admin' %}
        <img src="/{{ admin_image_url }}" alt="Admin Image" class="brand-image img-circle elevation-3" style="opacity: .8">
        {% elif current_user.role == 'instructor' %}
        <img src="/{{ instructor_image_url }}" alt="Instructor Image" class="brand-image img-circle elevation-3" style="opacity: .8">
        {% elif current_user.role == 'user' %}
        <img src="/{{ user_image_url }}" alt="User Image" class="brand-image img-circle elevation-3" style="opacity: .8">
        {% else %}
        {% endif %}
        <span class="brand-text font-weight-light" id="user">{{ session.first_name }} {{ session.last_name }}</span>
      </a>



      <div class="sidebar">



        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            {% if current_user.role == 'admin' %}
            <li class="nav-item menu-open">
              <a href="/admin_dashboard" class="nav-link {% if request.path == '/admin_dashboard' %}active{% endif %}">
                <i class="nav-icon fas fa-tachometer-alt"></i>
                <p>แดชบอร์ด</p>
              </a>
            </li>
            {% endif %}

            {% if current_user.role == 'instructor' %}
            <li class="nav-item menu-open">
              <a href="/instructor_dashboard"
                class="nav-link {% if request.path == '/instructor_dashboard' %}active{% endif %}">
                <i class="nav-icon fas fa-tachometer-alt"></i>
                <p>แดชบอร์ด</p>
              </a>
            </li>
            {% endif %}

            {% if current_user.role == 'user' %}
            <li class="nav-item menu-open">
              <a href="/user_dashboard"
                class="nav-link {% if request.path == '/user_dashboard' %}active{% endif %}">
                <i class="nav-icon fas fa-tachometer-alt"></i>
                <p>แดชบอร์ด</p>
              </a>
            </li>
            {% endif %}

            {% if current_user.role == 'admin' %}
            <li class="nav-header">จัดการข้อมูล</li>
            <!-- Link for Admin -->
            <li class="nav-item">
              <a href="/admin_table" class="nav-link {% if request.path == '/admin_table' %}active{% endif %}">
                <i class="nav-icon fas fa-user-shield"></i>
                <p>ผู้ดูแลระบบ</p>
              </a>
            </li>
            {% endif %}

            <!-- Link for Instructor -->
            {% if current_user.role == 'admin' %}
            <li class="nav-item">
              <a href="/instructor_table"
                class="nav-link {% if request.path == '/instructor_table' %}active{% endif %}">
                <i class="nav-icon fas fa-chalkboard-teacher"></i>
                <p>อาจารย์ผู้สอน</p>
              </a>
            </li>
            {% endif %}

            <!-- Link for User -->
            {% if current_user.role == 'admin' %}
            <li class="nav-item">
              <a href="/user_table" class="nav-link {% if request.path == '/user_table' %}active{% endif %}">
                <i class="nav-icon fas fa-users"></i>
                <p>ผู้ใช้</p>
              </a>
            </li>
            {% endif %}

            {% if current_user.role in ['admin', 'instructor'] %}
            <li class="nav-header">ดูข้อมูลการเข้าเรียน/สอบ</li>
            <!-- Link for Course -->   
            <li class="nav-item">
              <a href="/course_enroll_student" class="nav-link {% if request.path == '/course_enroll_student' %}active{% endif %}">
                <i class="nav-icon fa fa-graduation-cap"></i>
                <p>ข้อมูลการลงทะเบียนเรียน</p>
              </a>
            </li>      
            <li class="nav-item">
              <a href="/course_attempts_student" class="nav-link {% if request.path == '/course_attempts_student' %}active{% endif %}">
                <i class="nav-icon fa fa-address-book"></i>
                <p>ข้อมูลการเข้าสอบ</p>
              </a>
            </li>         
            {% endif %}
            {% if current_user.role in ['admin', 'instructor'] %}
            <li class="nav-header">การสร้างหลักสูตรเรียน</li>
            <!-- Link for Course -->   
            <li class="nav-item">
              <a href="/category_table" class="nav-link {% if request.path == '/category_table' %}active{% endif %}">
                <i class="nav-icon fa fa-info-circle"></i>
                <p>หมวดหมู่</p>
              </a>
            </li>      
            <li class="nav-item">
              <a href="/course_table" class="nav-link {% if request.path == '/course_table' %}active{% endif %}">
                <i class="nav-icon fa fa-book"></i>
                <p>หลักสูตร</p>
              </a>
            </li>           
            {% endif %}

            {% if current_user.role in ['admin', 'instructor'] %}
            <li class="nav-header">จัดการข้อมูลส่วนตัว</li>

            <li class="nav-item">
              <a href="/updated_profile" class="nav-link {% if request.path == '/updated_profile' %}active{% endif %}">
                <i class="nav-icon fa fa-user"></i>
                <p>แก้ไขโปรไฟล์</p>
              </a>
            </li>

            <li class="nav-item">
              <a href="/updated_password"
                class="nav-link {% if request.path == '/updated_password' %}active{% endif %}">
                <i class="nav-icon fa fa-key"></i>
                <p>แก้ไขรหัสผ่าน</p>
              </a>
            </li>
            {% endif %}
            <hr style="border: 1px solid #ddd; margin: 5px 0;">
            <li class="nav-item">
              <a href="/logout" class="nav-link">
                <i class="nav-icon fas fa-sign-out-alt"></i>
                <p>ออกจากระบบ</p>
              </a>
            </li>
          </ul>
        </nav>



      </div>
    </aside>